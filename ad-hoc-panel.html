<ul ng-controller="optionsController">
	<li ng-repeat='(id,option) in options | filterOptions:selectedOptions'>
		<label>{{id}}</label>
		<input type="checkbox" 
			ng-if="option.values.length==0" 
			ng-model="option.value"
			ng-change="updateOption(id,option.value)">
		<select 
			ng-if="option.values.length>0"
			ng-model="option.value"
			ng-options="value for value in option.values"
			ng-change="updateOption(id,option.value)">
		</select>
	</li>
</ul>