<div id='ad-hoc-panel' ng-show='model.showPanel' ng-class="{'expanded': model.fullPanel()}">

	<ul id="tabs" ng-show="model.fullPanel()">
		<div ng-class="{'center-wrapper': !model.backArrow()}">
			<div class="back-arrow" ng-if="model.backArrow()" ng-click="contractFullPanel()">
				<img id="back-arrow" src="//localhost:8888/img/back-arrow.png" alt="Go back to minimal panel" >
			</div>
			<li class="tab"
			ng-repeat="tab in model.tabs"
			ng-class="{'highlighted': model.highlighting() && tab.count>0, 'active': tab.name==model.activeTab, 'delayed-entrance': tab.count==0}"
			ng-click="activateTab(tab.name);">
			<span>{{tab.name}}</span>
			</li>
		</div>
	</ul>

	<div id="options" ng-class="{'highlighted': !model.fullPanel() }">

		<div class="tab" ng-class="{'highlighted': model.highlighting() && tab.count>0}"
		ng-repeat="tab in model.tabs" ng-show="tab.name==model.activeTab || !model.fullPanel()">

			<div class="row option" id="{{option.id}}"
			ng-class="{'first-row': $first, 'last-row': $last, 'highlighted': model.highlighting() && model.selectedOptions.indexOf(option.id)>=0, 'delayed-entrance': model.selectedOptions.indexOf(option.id)<0 && tab.count>0}"
			ng-show="isOptionVisible(option)"
			ng-repeat="option in (model.filteredOptions = (tab.options | filterOptions:tab.name | getOptions ))">

				<div class="cell left-column align-right">
					<input type="checkbox"
					ng-if="option.values.length==0" 
					ng-model="option.value"
					ng-change="dataManager.updateOption(option.id,option.value)">
					<select
					ng-if="option.values.length>0"
					ng-model="option.value"
					ng-options="value for value in option.values"
					ng-change="dataManager.updateOption(option.id,option.value)">
					</select>
				</div>

				<div class="cell align-left" ng-class="model.optionsVisibility==1 && !model.fullPanel()? 'middle-column' : 'right-column'">
					<label>{{option.label}}</label>
				</div>

				<div class="cell right-column" ng-if="model.optionsVisibility==1 && !model.fullPanel()">
					<div class="linkToTab grayGradientShadow blue-button" ng-click="expandToFullPanel(option.tab)">{{option.tab}} > </div>
				</div>
			</div>

		</div>

		<div class="wunderlist-button blue-button" ng-if="model.fullPanel() && model.activeTab=='Shortcuts'"
		ng-click="model.showMoreShortcuts= !model.showMoreShortcuts">{{model.showMoreShortcuts? "Show Less" : "Show More"}}</div>

		<a id="show-all" class="hyperlink" ng-if="!model.fullPanel() && model.optionsVisibility==0" ng-click="expandToFullPanel()">show all</a>

	</div>

</div>
